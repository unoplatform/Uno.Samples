<Page
    x:Class="SQLiteOneDriveInvoiceSample.Views.Clients"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:android="[android ]http://uno.ui.android"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:entities="using:SQLiteOneDriveInvoiceSample.Database.Entities"
    xmlns:ios="http://uno.ui.ios"
    xmlns:local="using:SQLiteOneDriveInvoiceSample.Views"
    xmlns:macos="http://uno.ui/macos"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:toolkit="using:Uno.UI.Toolkit"
    xmlns:vm="using:SQLiteOneDriveInvoiceSample.Presentation"
    xmlns:wasm="http://uno.ui/wasm"
    xmlns:win="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    mc:Ignorable="d android ios macos wasm">

    <Page.Resources>
        <DataTemplate x:Key="ClientDataTemplate" x:DataType="entities:Client">
            <toolkit:ElevatedView
                Grid.Row="1"
                Width="400"
                Height="250"
                Margin="5"
                Background="{ThemeResource SecondaryGradientStyle}"
                CornerRadius="15"
                Elevation="10"
                ShadowColor="{ThemeResource Gray-800}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="2*" />
                        <RowDefinition Height="2*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="2*" />
                    </Grid.RowDefinitions>

                    <Border Grid.RowSpan="4">
                        <Border.Background>
                            <AcrylicBrush TintColor="{ThemeResource SecondaryGradient}" TintOpacity="0.1" />
                        </Border.Background>
                    </Border>

                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="2.5*" />
                        </Grid.ColumnDefinitions>

                        <TextBlock
                            x:Name="entityNameLabel"
                            Style="{StaticResource CardTitleLabelStyle}"
                            Text="Name : " />
                        <TextBlock
                            x:Name="entityName"
                            Grid.Column="1"
                            Style="{StaticResource CardTitleLabelStyle}"
                            Text="{Binding Name, Mode=TwoWay}" />
                    </Grid>

                    <Grid Grid.Row="1">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="2.5*" />
                            </Grid.ColumnDefinitions>

                            <TextBlock
                                x:Name="entityDescriptionOneLabel"
                                Grid.Column="0"
                                Style="{StaticResource CardDescriptionLabelStyle}"
                                Text="Email : " />

                            <TextBlock
                                x:Name="entityDescriptionOne"
                                Grid.Column="1"
                                Style="{StaticResource CardDescriptionLabelStyle}"
                                Text="{Binding Communication.WorkEmail, Mode=TwoWay}" />
                        </Grid>

                        <Grid Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="2.5*" />
                            </Grid.ColumnDefinitions>

                            <TextBlock
                                x:Name="entityDescriptionTwoLabel"
                                Grid.Column="0"
                                Style="{StaticResource CardDescriptionLabelStyle}"
                                Text="Phone : " />

                            <TextBlock
                                x:Name="entityDescriptionTwo"
                                Grid.Column="1"
                                Style="{StaticResource CardDescriptionLabelStyle}"
                                Text="{Binding Communication.WorkPhone, Mode=TwoWay}" />
                        </Grid>

                    </Grid>

                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <TextBlock
                            x:Name="entityDueDate"
                            Grid.Column="0"
                            Style="{StaticResource CardFooterLabelStyle}"
                            Text="{Binding BillingAddress.City, Mode=TwoWay}" />
                        <TextBlock
                            x:Name="entityCreatedDate"
                            Grid.Column="1"
                            Style="{StaticResource CardFooterLabelStyle}"
                            Text="{Binding BillingAddress.Country, Mode=TwoWay}" />
                    </Grid>

                    <Grid Grid.Row="3">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="3*" />
                        </Grid.ColumnDefinitions>

                        <StackPanel
                            Grid.Column="1"
                            Padding="15,5"
                            HorizontalAlignment="Right"
                            Orientation="Horizontal">
                            <Button Click="ViewClick" Style="{StaticResource TransparentButtonStyle}">
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <StackPanel>
                                            <SymbolIcon Symbol="OpenFile" Tag="View" />
                                            <TextBlock Text="View" />
                                        </StackPanel>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>

                            <Button Click="EditClick" Style="{StaticResource TransparentButtonStyle}">
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <StackPanel>
                                            <SymbolIcon Symbol="Edit" Tag="Edit" />
                                            <TextBlock Text="Edit" />
                                        </StackPanel>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>

                            <Button Click="DeleteClick" Style="{StaticResource TransparentButtonStyle}">
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <StackPanel>
                                            <SymbolIcon Symbol="Delete" Tag="Delete" />
                                            <TextBlock Text="Delete" />
                                        </StackPanel>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>
                        </StackPanel>

                    </Grid>
                </Grid>

            </toolkit:ElevatedView>
        </DataTemplate>
    </Page.Resources>


    <ScrollViewer HorizontalScrollMode="Auto" VerticalScrollMode="Auto">

        <GridView
            x:Name="clientsGridView"
            IsItemClickEnabled="True"
            ItemClick="clientsGridView_ItemClick"
            ItemTemplate="{StaticResource ClientDataTemplate}"
            ItemsSource="{Binding Clients, Mode=TwoWay}"
            SelectionMode="Single">

            <GridView.ItemContainerStyle>
                <Style TargetType="GridViewItem">
                    <Setter Property="Margin" Value="5,5,5,5" />
                </Style>
            </GridView.ItemContainerStyle>

            <GridView.ItemsPanel>
                <ItemsPanelTemplate>
                    <ItemsWrapGrid
                        x:Name="MaxItemsWrapGrid"
                        android:MaximumRowsOrColumns="3"
                        ios:MaximumRowsOrColumns="3"
                        Orientation="Horizontal" />
                </ItemsPanelTemplate>
            </GridView.ItemsPanel>
        </GridView>

    </ScrollViewer>

</Page>
